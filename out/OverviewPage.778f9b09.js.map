{"version":3,"sources":["scripts/OverviewPage.ts"],"names":[],"mappings":"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","file":"OverviewPage.778f9b09.js","sourceRoot":"..\\src\\packages\\gui","sourcesContent":["\r\n\r\n\r\n\r\nclass OverviewPage {\r\n\r\n    private _sidebarBtn: HTMLButtonElement;\r\n    private _sidebar: HTMLElement;\r\n\r\n    private _mainFrame: HTMLIFrameElement;\r\n\r\n    private _editArea: HTMLElement;\r\n    private _editFrame: HTMLIFrameElement;\r\n\r\n    constructor() {\r\n        document.addEventListener('DOMContentLoaded', ()=>{\r\n            this.init();\r\n            let params = new URLSearchParams(document.location.search);\r\n            let name = params.get(\"project\");\r\n            if (name) {\r\n                this.setMain(`/projects/${name}`);\r\n            }\r\n\r\n            (<any>window).setMain = (uri) => {\r\n                this.setMain(uri);\r\n            }\r\n            (<any>window).setEdit = (uri) => {\r\n                this.setEdit(uri);\r\n            }\r\n\r\n            (<any>window).reloadMain = () => {\r\n                this._mainFrame.contentWindow.location.reload();\r\n            }\r\n\r\n            document.querySelector('#close_edit').addEventListener('click', ()=>{\r\n                this._editArea.classList.remove('editArea--open');\r\n            })\r\n\r\n            document.querySelectorAll('[data-edit-value]').forEach(el => {\r\n                const project = el.getAttribute('data-edit-value');\r\n                el.addEventListener('click', (e)=>{\r\n                    if ((<HTMLElement>e.target).getAttribute('data-delete-value')) return\r\n\r\n                    window.location.replace('/overview?project='+project)\r\n                    //this.setMain('/projects/'+project);\r\n                })\r\n            });\r\n\r\n            document.querySelectorAll('[data-delete-value]').forEach(el => {\r\n                const project = el.getAttribute('data-delete-value');\r\n                el.addEventListener('click', (e)=>{\r\n                    fetch('/deleteProject?project='+project).then(resp => {\r\n                        if ( resp.status === 200 ) {\r\n                            window.location.reload();\r\n                        }\r\n                    })\r\n                    //this.setMain('/projects/'+project);\r\n                })\r\n            });\r\n        });\r\n    }\r\n\r\n    private init() {\r\n        this._sidebarBtn = document.querySelector('#open_sidebar');\r\n        this._sidebar = document.querySelector('#sidebar');\r\n        this._sidebarBtn.addEventListener('click', ()=>{\r\n            this._sidebar.classList.toggle('sidebar--open');\r\n        });\r\n\r\n        this._mainFrame = document.querySelector('#main-frame');\r\n        this._mainFrame.src = '/welcome.html';\r\n\r\n        document.querySelector('#new_project').addEventListener('click', ()=>{\r\n            this.setMain('/newProject.html');\r\n        });\r\n\r\n        this._editArea = document.querySelector('#editArea');\r\n        this._editFrame = document.querySelector('#edit-frame');\r\n    }\r\n\r\n    private setMain(uri: string) {\r\n        this._mainFrame.src = uri;\r\n    }\r\n\r\n    private setEdit(uri: string) {\r\n        this._editArea.classList.add('editArea--open')\r\n        this._editFrame.src = uri;\r\n    }\r\n}\r\n\r\nnew OverviewPage();"]}